<!DOCTYPE html>
<html lang="pt-BR">


<style type="text/css" id="dark-mode-custom-style"></style>

<head>

  <title>Exercicios</title>

  <script src="libs/code/highcharts.js"></script>
  <script src="libs/code/highcharts-more.js"></script>
  <script src="libs/code/modules/dumbbell.js"></script>
  <script src="libs/code/modules/lollipop.js"></script>
  <script src="libs/code/modules/exporting.js"></script>
  <script src="libs/code/modules/export-data.js"></script>
  <script src="libs/code/modules/accessibility.js"></script>
  <script src="libs/code/modules/annotations.js"></script>


<body>

      <h1>Exercicios feitos</h1>

    <figure class="highcharts-figure">
      <div id="container"></div>
  </figure>

</body>


<script>

var flexoes = [20,21,30,31,33,34,35,38,38,40];
var abdominais = [20,21,22,21,25,21,31,40,30,43];
var data = ['23/05/2020',
            '24/05/2020',
            '26/05/2020',
            '27/05/2020',
            '28/05/2020',
            '29/05/2020',
            '30/05/2020',
            '31/05/2020',
            '01/06/2020',
            '02/06/2020',
            ]

            var parts = null;
            var d1 = [];
            var dparse = [];
            var dadoflexoes = [];
            var dadoabdominais = [];

for (i=0;i<data.length;i++){
  parts=  data[i].split("/");
  d1[i]=  new Date(Number(parts[2]), Number(parts[1]) - 1, Number(parts[0]));
  dparse[i] = Date.parse(d1[i]);
  dadoflexoes[i] = [dparse[i],flexoes[i]];
  dadoabdominais[i] = [dparse[i],abdominais[i]];
};

    var cresfle = ((flexoes[flexoes.length-1]-flexoes[0])/(flexoes.length-1));
    var cresabd = ((abdominais[abdominais.length-1]-abdominais[0])/(abdominais.length-1));
    var proxdate = dparse[dparse.length-1]+86400000;
    dadoflexoes[flexoes.length] = [proxdate,(flexoes[flexoes.length-1]+cresfle)];
    dadoabdominais[abdominais.length] = [proxdate,(abdominais[abdominais.length-1]+cresabd)];

    dadoflexoes[dadoflexoes.length] = [proxdate+86400000,(dadoflexoes[dadoflexoes.length-1][1]+cresfle)];
    dadoabdominais[dadoabdominais.length] = [proxdate+86400000,(dadoabdominais[dadoabdominais.length-1][1]+cresabd)];

    var flagx = dadoflexoes[dadoflexoes.length-1][0]-62000000;
    var flagy = dadoabdominais[dadoabdominais.length-1][1]-10;
    var plotbandx = dadoabdominais[dadoabdominais.length-3][0]+43200000;


 Highcharts.chart('container', {
    chart: {
        type: 'spline',
        zoomType: 'x'
    },
    title: {
        text: 'Exercicios feitos cada dia'
    },
    xAxis: {
        title:{
          text: 'data',
        },
        plotBands: [{
            from: plotbandx,
            to: (plotbandx+172800000),
            color: '#a8ffc4'
        }],
        type: 'datetime',
    },
    yAxis: {
        title: {
            text: 'Unidades'
        }
    },
    tooltip: {
        shared: true,
        valueSuffix: 'quantidade de exercicios feitos',
        crosshairs: true,
    },
    annotations: [{
        labels: [{
            point: {
                x: flagx,
                y: flagy,
                xAxis: 0,
                yAxis: 0
            },
            text: 'Previsão',
        }],
    }],
    credits: {
        enabled: true
    },
    series: [{
        name: 'Flexões',
        data: dadoflexoes
    }, {
        name: 'Abdominais',
        data: dadoabdominais
    }]
});




</script>

</html>